<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    
    <title>How does Spark Processing Start ? &mdash; Arka Roy</title>
    
    
    
    <meta name="description" content="What all processes run when a jar is submitted, how is the driver created, who manages whom." />
    
    
    <meta name="keywords" content="Arka Roy,Arka" />
    <meta name="author" content="Arka Roy" />
    <link rel="alternate" type="application/atom+xml" title="Arka Roy" href="/feed.xml">
    <link href="" rel="openid2.provider" />
    <link href="" rel="openid2.local_id" />
    <link href="" rel="openid.server" />
    <link href="" rel="openid.delegate" />
    <link rel="icon" type="image/vnd.microsoft.icon" href="/assets/themes/default/images/favicon.ico" />
    <link rel="icon" type="image/png" href="/assets/themes/default/images/favicon.png" />
    <link rel="apple-touch-icon" href="/assets/themes/default/images/title.jpg"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jpswalsh/academicons@1/css/academicons.min.css">
    <link href="https://fonts.googleapis.com/css?family=Lato|Oswald" rel="stylesheet">
    <meta name="viewport" content="width=800" />    
    
    <link rel="stylesheet" href="/assets/themes/default/css/timeline.css" media="screen" />            
    
    <link rel="stylesheet" href="/assets/themes/default/css/screen.css?52480=52480" media="screen" />            
    
    <link rel="stylesheet" href="/assets/themes/default/css/print.css" media="screen" />            
    
        
    <!--[if IE]>
    <script src="/assets/themes/default/js/html5.js"></script>
    <![endif]-->    
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js" type="text/javascript"></script>
    
    <script src="/assets/themes/default/js/site.js" type="text/javascript"></script>
    
    
</head>
<body class="">
<div id="wrapper" >
<div id="inner_wrapper">    
    <div id="container">          
        <header id="title">
            <h1><a href="/">Arka Roy</a></h1>
        </header>        
        <nav id="main_nav">
            <ul>
                
                <li>
                    
                    <a href="/work" class="work">work</a>
                    
                </li>
                
                <li>
                    
                    <a href="/research" class="research">research</a>
                    
                </li>
                
                <li>
                    
                    <a href="/projects" class="projects">projects</a>
                    
                </li>
                
                <li>
                    
                    <a href="/blog" class="blog">blog</a>
                    
                </li>
                
                <li>
                    
                    <a href="#" class="resume">resume</a>
                    
                </li>
                
            </ul>
        </nav>        
        <div id="content">
        <div id="popupOverlay" class="popup-overlay">
            <div id="popupContent" class="popup-content">
                <span id="closePopupButton" class="close-button">&times;</span>
                <iframe style="width: 700px; height: 700px" id="popupIframe" src="/assets/cv/CV_Arka_Roy.pdf"></iframe>
            </div>
        </div>
        <article>
    <header>
        <h1><a href="/2020/10/03/spark-submit/" rel="bookmark" title="link to this post">How does Spark Processing Start ?</a></h1>
        <time datetime="2020-10-03" pubdate>Published Saturday, October 03, 2020</time>
    </header>
    <ul>
  <li>What happens when a jar is submitted through a Spark Client ?</li>
  <li>How does a spark job gets triggered ?</li>
</ul>

<h2 id="lets-deep-dive-">Let’s deep dive !!</h2>

<ol>
  <li>
    <p>A client program (spark-submit) submits the application, including the necessary specifications to run the application-specific <strong>ApplicationMaster</strong> (for Spark Applications - SparkMaster).</p>
  </li>
  <li>
    <p>ResourceManager gets responsibility for the allocation of a necessary container in which ApplicationMaster(SparkMaster) will be started. Then ResourceManager starts the ApplicationMaster(SparkMaster).</p>
  </li>
  <li>
    <p>SparkMaster is created at the same time as the Driver on the same node(in case of cluster mode) when the user submits the spark application using spark-submit. The Driver informs the Application Master about the executor’s requirements for the application and the Application Master negotiates the resources with the Resource Manager to host these executors.</p>
  </li>
  <li>
    <p>ApplicationMaster registers itself in ResourceManager. Registration allows the Customer program (spark-submit) to request specific information from ResourceManager that allows it to directly interact with its ApplicationMaster.</p>
  </li>
  <li>
    <p>ApplicationMaster asks for suitable containers from ResourceManager for the application to run. After successfully receiving the containers, ApplicationMaster launches them, providing NodeManager(s) their configurations.</p>
  </li>
  <li>
    <p>Inside the containers, it runs the user application code. The NodeManager(s) then provides the information (execution phase, status) for ApplicationMaster.</p>
  </li>
  <li>
    <p>During the runtime of the user application, the client interacts with ApplicationMaster to obtain the application status.</p>
  </li>
  <li>
    <p>When the application completes and all necessary work is completed, ApplicationMaster deregisters from ResourceManager and terminates, releasing the container for other purposes.</p>
  </li>
  <li>
    <p>Once the driver is up it runs the main program of the user application code. The first thing it does is create a SparkContext. So let us understand that in detail.</p>
  </li>
</ol>
        

     
    <p>
        <a href="/2020/10/01/spark-yarn/" title="Previous Post: Spark on Yarn">&larr; Spark on Yarn</a>
    </p>
    
</article>


<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_identifier = "/2020/10/03/spark-submit/";
  (function() {
   var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
   dsq.src = 'http://michaelmonteleone.disqus.com/embed.js';
   (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript=michaelmonteleone">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>



        </div>
    </div>    
    <div id="footer-wrapper">
        <footer>
            <div class="social">
                <div class="contact-icons">
                    <a href="mailto:arka.nitdgp14@gmail.com" title="Email"><i class="fa fa-envelope"></i></a>
                    <a href="https://scholar.google.com/citations?user=MF3j7q4AAAAJ&hl=en" title="Google Scholar" target="_blank"><i class="ai ai-google-scholar-square ai-1x"></i></a>
                    <a href="http://www.linkedin.com/in/arka-nitd" title="LinkedIn" target="_blank"><i class="fa fa-linkedin"></i></a>
                    <a href="http://github.com/arka-nitd" title="Github" target="_blank"><i class="fa fa-github"></i></a>
                    <a href="https://twitter.com/arka_nitd" title="Twitter" target="_blank"><i class="fa fa-twitter"></i></a>
                </div>
            </div>

            <div class="contact-note">
                Copyright &copy; 2023 Arka Roy. Powered by Jekyll and inspired by <a href="https://michaelmonteleone.net/">michaelmonteleone.net</a>
            </div>
        </footer>
        <div style="clear:both"></div>
    </div>    
</div>
</div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
} catch(err) {}
</script>
</body>
</html>
